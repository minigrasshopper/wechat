Vue.component("vue-nav",{template:'<nav><img v-show="hasBack==1" class="icon_back" v-on:touchend="historyHandle()" src="images/icon_back.png"><span class="language">{{desc}}</span><img v-show="hasCart==1" class="icon_cart" v-on:touchend="jumpCart()" src="images/icon_cart.png"></nav>',props:{hasBack:{"default":1},hasCart:{"default":0},desc:{},jumpNew:{"default":0}},methods:{historyHandle:function(){0==this.jumpNew&&window.history.go(-1),this.$emit("jumpnew")},jumpCart:function(){gotoUrl("cart.html")}}}),Vue.component("vue-footer",{template:'<footer><ul class="tabBox"><li v-on:touchend="jumpHandle($event, 0)"><div><img src="images/icon_home_off.png"/><p class="language">首页</p></div><div class="active hide"><img src="images/icon_home_on.png"/><p class="language">首页</p></div></li><li v-on:touchend="jumpHandle($event, 1)"><div><img src="images/icon_store_off.png"/><p class="language">全部分类</p></div><div class="active hide"><img src="images/icon_store_on.png"/><p class="language">全部分类</p></div></li><li v-on:touchend="jumpHandle($event, 2)"><i v-show="cartNum != 0" class="cartNum">{{cartNum}}</i><div><img src="images/icon_cart_off.png"/><p class="language">购物车</p></div><div class="active hide"><img src="images/icon_cart_on.png"/><p class="language">购物车</p></div></li><li v-on:touchend="jumpHandle($event, 3)"><div><img src="images/icon_profile_off.png"/><p class="language">个人中心</p></div><div class="active hide"><img src="images/icon_profile_on.png"/><p class="language">个人中心</p></div></li></ul><ul class="listBox"><li v-on:touchend="jumpGoodList($event, item.name, item.id)" :class="setId(item.id)" v-for="item in cateArr" v-if="item.goodsnum != 0" class="language">{{item.name}}</li></ul></footer>',props:{index:{},showAll:{"default":0},cartNum:{"default":0},cateArr:{"default":null}},mounted:function(){this.init()},updated:function(){},watch:{showAll:function(){1==this.showAll?($(".cate1").show(),$(".cate2").show()):($(".cate1").hide(),$(".cate2").hide())}},methods:{init:function(){console.log(this.showAll),$(this.$el).find("li").eq(this.index).find("div").hide(),$(this.$el).find("li").eq(this.index).find("div.active").show(),1==this.showAll?($(".cate1").show(),$(".cate2").show()):($(".cate1").hide(),$(".cate2").hide())},jumpHandle:function(i,e){var a=i.currentTarget;switch($(a).siblings().find("div").show(),$(a).siblings().find("div.active").hide(),$(a).find("div").hide(),$(a).find("div.active").show(),e){case 0:gotoUrl("index.html");break;case 1:var s=$(".listBox").hasClass("list_run");s?$(".listBox").removeClass("list_run"):$(".listBox").addClass("list_run");break;case 2:gotoUrl("cart.html");break;case 3:gotoUrl("profile.html")}},jumpGoodList:function(i,e,a){var s=i.currentTarget;$(".listBox").find(".active").removeClass("active"),$(s).addClass("active"),gotoUrl("good-list.html?name="+e+"&category_id="+a)},setId:function(i){return"cate"+i}}});